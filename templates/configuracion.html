<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Configuración de Perfil - Biblioteca</title>

  <!-- ✅ Bootstrap 5 CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- ✅ Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body style="background-color: #1e293b;">

  <div class="container py-4">
    <!-- ✅ Centered profile box -->
    <div class="profile-box mx-auto"
         style="max-width: 800px; background: #fff; padding: 40px 35px; border-radius: 12px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); color: #333;">
      
      <!-- ✅ Page title -->
      <h3 class="mb-4 text-center">Edit Profile</h3>

      <!-- ✅ Profile edit form -->
      <form method="POST" enctype="multipart/form-data" id="perfilForm">
        <div class="row">
          <!-- ✅ Left column -->
          <div class="col-md-6">

            <!-- First name -->
            <div class="mb-3">
              <label for="nombre" class="form-label">First Name:</label>
              <input type="text" id="nombre" name="nombre" class="form-control" value="{{ usuario.nombre }}">
            </div>

            <!-- Last name -->
            <div class="mb-3">
              <label for="apellido" class="form-label">Last Name:</label>
              <input type="text" id="apellido" name="apellido" class="form-control" value="{{ usuario.apellido }}">
            </div>

            <!-- Document number -->
            <div class="mb-3">
              <label for="documento" class="form-label">Document Number:</label>
              <input type="text" id="documento" name="documento" class="form-control" value="{{ usuario.documento }}">
            </div>

            <!-- Address -->
            <div class="mb-3">
              <label for="direccion" class="form-label">Address:</label>
              <input type="text" id="direccion" name="direccion" class="form-control" value="{{ usuario.direccion }}">
            </div>

          </div>

          <!-- ✅ Right column -->
          <div class="col-md-6">

            <!-- Email -->
            <div class="mb-3">
              <label for="correo" class="form-label">Email:</label>
              <input type="email" id="correo" name="correo" class="form-control" value="{{ usuario.correo }}">
            </div>

            <!-- Phone -->
            <div class="mb-3">
              <label for="telefono" class="form-label">Phone:</label>
              <input type="text" id="telefono" name="telefono" class="form-control" value="{{ usuario.telefono }}">
            </div>

            <!-- Birth date -->
            <div class="mb-3">
              <label for="fecha_nacimiento" class="form-label">Date of Birth:</label>
              <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control" value="{{ usuario.fecha_nacimiento }}">
            </div>

            <!-- Profile picture -->
            <div class="mb-3">
              <label for="foto_perfil" class="form-label">Profile Picture:</label><br>
              <img src="{{ url_for('static', filename='fotos_perfil/' + (usuario.foto if usuario.foto else 'default_user.png')) }}"
                   alt="Current photo" class="rounded mb-2" width="100" height="100">
              <input type="file" id="foto_perfil" name="foto_perfil" accept="image/*" class="form-control">
            </div>

          </div>
        </div>

        <!-- ✅ Action buttons -->
        <div class="d-grid gap-2 mt-4">
          <button type="submit" class="btn btn-primary btn-lg">
            Save Changes
          </button>
          <button type="button" class="btn btn-secondary btn-lg" onclick="history.back()">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ✅ Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ✅ Confirm before submitting -->
  <script>
    document.getElementById('perfilForm').addEventListener('submit', function(event) {
      if (!confirm('Are you sure you want to save the changes?')) {
        event.preventDefault();
      }
    });
  </script>
</body>
</html>
