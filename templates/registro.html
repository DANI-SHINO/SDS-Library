<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registro - Biblioteca</title>

  <!-- ✅ Bootstrap and icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- ✅ Custom register styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/registro.css') }}">
</head>
<body>
  <!-- ✅ Centered form container -->
  <div class="form-container text-center">
    <!-- ✅ Library logo -->
    <img 
      src="{{ url_for('static', filename='imagenes/LOGO.png') }}" 
      alt="Logo Biblioteca" 
      width="100" 
      class="mb-3 rounded-circle border border-2 border-light"
      style="background-color: #1e3a8a; padding: 10px;">
    
    <!-- ✅ Register title and subtitle -->
    <h2 class="fw-semibold mb-1">Crear cuenta</h2>
    <p class="text-muted mb-4 small">Regístrate para acceder a la biblioteca</p>

    <!-- ✅ Register form -->
    <form method="POST" action="{{ url_for('main.registro') }}" id="registroForm">
      {{ form.hidden_tag() }}

      <div class="row g-3 text-start">
        <!-- ✅ Column 1 -->
        <div class="col-md-4">
          <!-- ✅ Name field -->
          <label class="form-label">{{ form.nombre.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
            {{ form.nombre(class="form-control" + (" is-invalid" if form.nombre.errors else ""), placeholder="Nombre") }}
          </div>
          {% if form.nombre.errors %}
            {% for error in form.nombre.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Document field -->
          <label class="form-label">{{ form.documento.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-card-text"></i></span>
            {{ form.documento(class="form-control" + (" is-invalid" if form.documento.errors else ""), placeholder="Número de documento") }}
          </div>
          {% if form.documento.errors %}
            {% for error in form.documento.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Birth date field -->
          <label class="form-label">{{ form.fecha_nacimiento.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-calendar"></i></span>
            {{ form.fecha_nacimiento(class="form-control" + (" is-invalid" if form.fecha_nacimiento.errors else ""), type="date") }}
          </div>
          {% if form.fecha_nacimiento.errors %}
            {% for error in form.fecha_nacimiento.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}
        </div>

        <!-- ✅ Column 2 -->
        <div class="col-md-4">
          <!-- ✅ Last name field -->
          <label class="form-label">{{ form.apellido.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-person-vcard"></i></span>
            {{ form.apellido(class="form-control" + (" is-invalid" if form.apellido.errors else ""), placeholder="Apellido") }}
          </div>
          {% if form.apellido.errors %}
            {% for error in form.apellido.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Address field -->
          <label class="form-label">{{ form.direccion.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
            {{ form.direccion(class="form-control" + (" is-invalid" if form.direccion.errors else ""), placeholder="Dirección") }}
          </div>
          {% if form.direccion.errors %}
            {% for error in form.direccion.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Password field -->
          <label class="form-label">{{ form.password.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-lock"></i></span>
            {{ form.password(class="form-control" + (" is-invalid" if form.password.errors else ""), placeholder="Contraseña") }}
          </div>
          {% if form.password.errors %}
            {% for error in form.password.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}
        </div>

        <!-- ✅ Column 3 -->
        <div class="col-md-4">
          <!-- ✅ Email field -->
          <label class="form-label">{{ form.correo.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
            {{ form.correo(class="form-control" + (" is-invalid" if form.correo.errors else ""), placeholder="Correo electrónico") }}
          </div>
          {% if form.correo.errors %}
            {% for error in form.correo.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Phone number field -->
          <label class="form-label">{{ form.telefono.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-telephone"></i></span>
            {{ form.telefono(class="form-control" + (" is-invalid" if form.telefono.errors else ""), placeholder="Número de teléfono") }}
          </div>
          {% if form.telefono.errors %}
            {% for error in form.telefono.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- ✅ Confirm password field -->
          <label class="form-label">{{ form.confirm_password.label }}</label>
          <div class="input-group mb-2">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            {{ form.confirm_password(class="form-control" + (" is-invalid" if form.confirm_password.errors else ""), placeholder="Confirmar contraseña") }}
          </div>
          {% if form.confirm_password.errors %}
            {% for error in form.confirm_password.errors %}
              <div class="invalid-feedback d-block">
                {{ error }}
              </div>
            {% endfor %}
          {% endif %}
        </div>
      </div>

      <!-- ✅ Register and login buttons -->
      <div class="d-grid gap-2 mt-4">
        {{ form.submit(class="btn btn-success w-100") }}
        <a href="{{ url_for('main.login') }}" class="btn btn-outline-secondary w-100">¿Ya tienes cuenta? Inicia sesión</a>
      </div>
    </form>
  </div>
</body>
</html>
